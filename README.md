Для решения задачи решил использовать DFS(алгоритм поиска в глубину).
